/* Compiled 2015-02-12 11:02:09 */

"use strict";angular.module("sparklines",[]),angular.module("sparklines").service("SparkUtils",function(){var a={};return a.areaChart=function(a,b,c){var d=d3.select(a).append("svg:svg").attr("width",c.width).attr("height",c.height),e=d3.time.scale().domain([0,b.length]).range([0,c.width]),f=d3.scale.linear().domain([0,d3.max(b)]).range([c.height,0]),g=d3.svg.area().x(function(a,b){return e(b)}).y0(c.height).y1(function(a){return f(a)});d.append("path").datum(b).attr("class","area").attr("d",g)},a.barChart=function(a,b,c){var d=d3.select(a).append("svg:svg").attr("width",c.width).attr("height",c.height),e=d3.scale.linear().domain([0,d3.max(b)]).range([0,c.height]),f=c.width/b.length,g=d.selectAll("g").data(b).enter().append("g").attr("transform",function(a,b){return"translate("+b*f+",0)"});g.append("rect").attr("class","bar").attr("y",function(a){return e(a)}).attr("height",function(a){return c.height-e(a)}).attr("width",f-1)},a.binaryChart=function(a,b,c){var d=d3.select(a).append("svg:svg").attr("width",c.width).attr("height",c.height),e=d3.scale.linear().domain([0,1]).range([0,c.height]),f=c.width/b.length,g=d.selectAll("g").data(b).enter().append("g").attr("transform",function(a,b){return"translate("+b*f+",0)"});g.append("rect").attr("class",function(a){return a?"binary":"binary negative"}).attr("y",function(a){return a?0:e(.5)}).attr("height",function(){return c.height/2}).attr("width",f-1)},a.defaultOptions={animate:!1,dimensionUnit:"px",height:15,interpolation:"basis",transitionDelay:1e3,type:"line",updateDelay:1e3,width:100},a.lineChart=function(a,b,c){var d=d3.select(a).append("svg:svg").attr("width",c.width).attr("height",c.height),e=d3.scale.linear().domain([0,b.length]).range([0,c.width]),f=d3.max(b),g=d3.min(b),h=d3.scale.linear().domain([g,f]).range([0,c.height]),i=d3.svg.line().x(function(a,b){return e(b)}).y(function(a){return h(a)});d.append("svg:path").attr("d",i(b));var j=4,k=4,l=d.selectAll("g").data(b).enter().append("g").attr("transform",function(a,b){return"translate("+(e(b)-k/2)+","+-j/2+")"});if(c.endValue&&l.append("rect").attr("class",function(a,c){return c===b.length-1?"dot last":"hidden"}).attr("y",function(a){return h(a)}).attr("height",j).attr("width",k),c.startValue&&l.append("rect").attr("class",function(a,b){return 0===b?"dot first":"hidden"}).attr("y",function(a){return h(a)}).attr("height",j).attr("width",k),c.maxValue){var m=b.reduce(function(a,c,d){return b[d]>=b[a]?d:a},0);console.dir("max "+m),l.append("rect").attr("class",function(a,b){return b===m?"dot max":"hidden"}).attr("y",function(a){return h(a)}).attr("height",j).attr("width",k)}if(c.minValue){var n=b.reduce(function(a,c,d){return b[d]<b[a]?d:a},1/0);console.dir("min "+n),l.append("rect").attr("class",function(a,b){return b===n?"dot min":"hidden"}).attr("y",function(a){return h(a)}).attr("height",j).attr("width",k)}},a.mergeOptions=function(a,b){return Object.keys(b).forEach(function(c){a[c]=b[c]}),a},a.randomNumbers=function(a,b){var c,d,e=[];for(b=b||100,c=0;a>c;c++)d=Math.floor(Math.random()*b),e.push(d);return e},a.randomString=function(a){for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZ",c="",d=0;a>d;d++){var e=Math.floor(Math.random()*b.length);c+=b.substring(e,e+1)}return c},a}),angular.module("sparklines").directive("sparkline",["SparkUtils",function(a){return{restrict:"E",scope:{data:"=",options:"="},link:function(b,c){var d,e,f;c[0].id=c[0].id?c[0].id:"sparkline-"+a.randomString(5),e="#"+c[0].id,d=b.test?a.randomNumbers(20,100):b.data||[],f=b.options?a.mergeOptions(a.defaultOptions,b.options):a.defaultOptions,"area"===f.type?a.areaChart(e,d,f):"bar"===f.type?a.barChart(e,d,f):"binary"===f.type?a.binaryChart(e,d,f):"line"===f.type&&a.lineChart(e,d,f)}}}]);
//# sourceMappingURL=angular-sparklines.min.map